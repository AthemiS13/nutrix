@import "tailwindcss";

/*
	Ensure the status bar / safe-area on iOS standalone (added to Home Screen)
	uses the app background and that content is padded away from the
	Dynamic Island / notch using env(safe-area-inset-*) with fallbacks.

	env(...) returns 0 on platforms without safe-area insets, so this is
	safe to add globally.
*/

:root {
	/* Use the same neutral color variable used by Tailwind in your app so
	   the header/background match exactly */
	--app-bg: var(--color-neutral-950);
}

html, body, #__next {
	height: 100%;
	background-color: var(--app-bg);
}

body {
	margin: 0;
	/* don't apply global safe-area padding here â€” scope to header/footer
	   so the whole layout doesn't shift unexpectedly (we'll use helpers)
	*/
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* helper classes in case you want to scope safe-area handling to a header */
.safe-top {
	padding-top: constant(safe-area-inset-top);
	padding-top: env(safe-area-inset-top);
}

/* Apply to fixed bottom navigation to ensure it sits above the home indicator
	 / dynamic island. Use padding so the clickable area remains comfortable. */
.safe-bottom {
	padding-bottom: constant(safe-area-inset-bottom);
	padding-bottom: env(safe-area-inset-bottom);
}

nav.safe-bottom {
	/* help reduce repaint jank when the viewport changes on mobile */
	-webkit-transform: translateZ(0);
	transform: translateZ(0);
	will-change: transform;
}

/* Nudge the fixed nav slightly downward on devices with a home indicator
	 so it visually sits closer to the phone's rounded corners without
	 clipping the interactive area. The translate uses half the inset so
	 we don't push the nav outside the viewport. */
nav.safe-bottom {
    /* keep nav pinned to bottom exactly; avoid visual downward nudge that can clip or feel too low */
    transform: translateY(0);
}

/* Utility to anchor fixed elements to the true bottom in case some browsers
	 report a non-zero inset via bottom env(). Use with caution; we prefer
	 padding so elements aren't visually clipped. */
.anchor-bottom-safe {
	/* Keep the nav element visually anchored to the bottom of the
		 viewport (bottom: 0). We keep padding on the nav itself to honor
		 the safe-area so buttons aren't clipped by the home indicator. */
	bottom: 0;
}

/* Remove the visible blue focus ring that appears when some SVG/chart
	 elements receive focus on mobile (tap) or keyboard. We scope this to
	 Recharts-generated SVGs so we don't remove global focus styles.
	 Keep in mind removing outlines can hurt keyboard users; we only
	 remove the ring for visual polish here since the controls have
	 other accessible affordances. */
.recharts-wrapper :focus,
.recharts-wrapper svg :focus {
	outline: none !important;
	box-shadow: none !important;
}

/* Also remove focus from chart legend / interactive nodes that Recharts may
	 attach tabIndex to on mobile taps (pie slices, legend items). */
.recharts-legend-item :focus,
.recharts-legend-item:focus,
.recharts-surface :focus {
	outline: none !important;
	box-shadow: none !important;
}

/*
	Hide native scrollbars on mobile / touch devices to provide an app-like
	experience. We keep content scrollable but remove the persistent white
	scrollbar that can appear on some platforms when used like an app.

	- For Firefox: scrollbar-width: none
	- For IE/Edge legacy: -ms-overflow-style: none
	- For WebKit: set scrollbar width/height to 0 and transparent track

	We scope this to smaller viewports and coarse pointers to avoid hiding
	scrollbars for desktop users who rely on them.
*/
@media (max-width: 1024px) and (pointer: coarse) {
	html, body, #__next {
		scrollbar-width: none; /* Firefox */
		-ms-overflow-style: none; /* IE 10+ */
	}

	/* WebKit browsers */
	html::-webkit-scrollbar,
	body::-webkit-scrollbar,
	#__next::-webkit-scrollbar {
		width: 0;
		height: 0;
		background: transparent;
	}

	/* Smooth native-like scrolling on iOS */
	* {
		-webkit-overflow-scrolling: touch;
	}
}

